// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"newPrice","type":"uint256"}],"name":"setTicketPrice","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"kill","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"getTickets","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"getParticipants","outputs":[{"name":"","type":"uint40"}],"type":"function"},{"constant":false,"inputs":[],"name":"getTicketPrice","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"getCurrentJackpot","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"getTotalNumberOfTickets","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"drawWinner","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bytes32"},{"name":"","type":"bytes32"}],"type":"function"},{"constant":false,"inputs":[{"name":"pseed","type":"string"}],"name":"buyTickets","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"getLotteryFee","outputs":[{"name":"","type":"uint8"}],"type":"function"},{"constant":false,"inputs":[],"name":"shatest","outputs":[{"name":"","type":"bytes32"}],"type":"function"},{"constant":false,"inputs":[{"name":"newFee","type":"uint8"}],"name":"setLotteryFee","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"getWinningPercentage","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"inputs":[],"type":"constructor"}],
    binary: "6060604052662386f26fc1000060019081556002805460ff1916909117905560008054600160a060020a031916331790556107e78061003e6000396000f3606060405236156100ae5760e060020a600035046315981650811461010257806341c0e1b51461011d5780634ed026221461013c5780635aa68ac01461015657806387bb7ae0146101705780639f57d16e1461018a578063a10f60de146101a4578063b2185bb1146101ae578063bfdf55f2146101d0578063cf72f7181461022c578063e0623dab14610246578063e0cd7a201461026f578063f2fde38b1461028a578063fbff1b8a146102ac575b6102c66102c86102ca425b60408051602081019091526000815261033c610344836000816000141561078257507f30000000000000000000000000000000000000000000000000000000000000005b61033f565b6102c6600435600034111561056f5761056f6102ca426100b9565b6102c6600054600160a060020a03908116339091161461059057610002565b6102cf6000600034111561059e5761059e6102ca426100b9565b6102e1600060003411156105bd576105bd6102ca426100b9565b6102cf600060003411156105cd576105cd6102ca426100b9565b6102cf600060003411156105d6576105d66102ca426100b9565b6102cf6004545b90565b6102fb6000600060006000600060003411156105e7576105e76102ca426100b9565b6040805160206004803580820135601f81018490048402850184019095528484526102c69491936024939092918401919081908401838280828437509496505050505050505b600060006001600050543410156103e657610002565b610326600060003411156106f2576106f26102ca426100b9565b6102cf7fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a4706101ab565b6102c660043560003411156106fe576106fe6102ca426100b9565b6102c6600435600054600160a060020a03908116339091161461073a57610002565b6102cf6000600034111561075c5761075c6102ca426100b9565b005b565b610216565b60408051918252519081900360200190f35b6040805164ffffffffff9092168252519081900360200190f35b6040805195865260208601949094528484019290925260608401526080830152519081900360a00190f35b6040805160ff9092168252519081900360200190f35b90505b919050565b604080516020818101835260008083528351808301855281815293519293929091908059106103705750595b90808252806020026020018201604052509150600090505b60208110156107a85783816020811015610002571a60f860020a0282828151811015610002579060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600101610388565b61043a836006600050548160405180836000191681526020018280519060200190808383829060006004602084601f0104600f02600301f15090500192505050604051809103902060066000508190555050565b6001543406915060008211156104755760405133600160a060020a031690600090849082818181858883f19350505050151561047557610002565b33600160a060020a031660009081526003602052604081205414156104b1576005805464ffffffffff811660010164ffffffffff199091161790555b5060015433600160a060020a03811660009081526003602052604081208054349490940493840190556105299183915b8281101561056a57600480546001810180835582818380158290116107af578183600052602060002091820191016107af91905b808211156107e35760008155600101610515565b60008054600254604051600160a060020a0392909216929160643460ff90931692909202919091049082818181858883f19350505050151561056a57610002565b505050565b600054600160a060020a03908116339091161461058b57610002565b600155565b600054600160a060020a0316ff5b5033600160a060020a03166000908152600360205260409020546101ab565b5060055464ffffffffff166101ab565b506001546101ab565b5030600160a060020a0316316101ab565b6006546105f3426100b9565b60405180836000191681526020018280519060200190808383829060006004602084601f0104600f02600301f1509050019250505060405180910390206001900460046000508054905060066000505461064c426100b9565b60405180836000191681526020018280519060200190808383829060006004602084601f0104600f02600301f1509050019250505060405180910390206001900406426006600050546006600050546106a4426100b9565b60405180836000191681526020018280519060200190808383829060006004602084601f0104600f02600301f150905001925050506040518091039020945094509450945094509091929394565b5060025460ff166101ab565b600054600160a060020a03908116339091161461071a57610002565b60078160ff16111561072b57610002565b6002805460ff19168217905550565b6000805473ffffffffffffffffffffffffffffffffffffffff19168217905550565b5060045433600160a060020a0316600090815260036020526040902054606402046101ab565b5b60008211156100fd57600a808304920660300160f860020a0261010090910417610783565b5092915050565b505050600092835250602090912001805473ffffffffffffffffffffffffffffffffffffffff1916831790556001016104e1565b509056",
    unlinked_binary: "6060604052662386f26fc1000060019081556002805460ff1916909117905560008054600160a060020a031916331790556107e78061003e6000396000f3606060405236156100ae5760e060020a600035046315981650811461010257806341c0e1b51461011d5780634ed026221461013c5780635aa68ac01461015657806387bb7ae0146101705780639f57d16e1461018a578063a10f60de146101a4578063b2185bb1146101ae578063bfdf55f2146101d0578063cf72f7181461022c578063e0623dab14610246578063e0cd7a201461026f578063f2fde38b1461028a578063fbff1b8a146102ac575b6102c66102c86102ca425b60408051602081019091526000815261033c610344836000816000141561078257507f30000000000000000000000000000000000000000000000000000000000000005b61033f565b6102c6600435600034111561056f5761056f6102ca426100b9565b6102c6600054600160a060020a03908116339091161461059057610002565b6102cf6000600034111561059e5761059e6102ca426100b9565b6102e1600060003411156105bd576105bd6102ca426100b9565b6102cf600060003411156105cd576105cd6102ca426100b9565b6102cf600060003411156105d6576105d66102ca426100b9565b6102cf6004545b90565b6102fb6000600060006000600060003411156105e7576105e76102ca426100b9565b6040805160206004803580820135601f81018490048402850184019095528484526102c69491936024939092918401919081908401838280828437509496505050505050505b600060006001600050543410156103e657610002565b610326600060003411156106f2576106f26102ca426100b9565b6102cf7fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a4706101ab565b6102c660043560003411156106fe576106fe6102ca426100b9565b6102c6600435600054600160a060020a03908116339091161461073a57610002565b6102cf6000600034111561075c5761075c6102ca426100b9565b005b565b610216565b60408051918252519081900360200190f35b6040805164ffffffffff9092168252519081900360200190f35b6040805195865260208601949094528484019290925260608401526080830152519081900360a00190f35b6040805160ff9092168252519081900360200190f35b90505b919050565b604080516020818101835260008083528351808301855281815293519293929091908059106103705750595b90808252806020026020018201604052509150600090505b60208110156107a85783816020811015610002571a60f860020a0282828151811015610002579060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600101610388565b61043a836006600050548160405180836000191681526020018280519060200190808383829060006004602084601f0104600f02600301f15090500192505050604051809103902060066000508190555050565b6001543406915060008211156104755760405133600160a060020a031690600090849082818181858883f19350505050151561047557610002565b33600160a060020a031660009081526003602052604081205414156104b1576005805464ffffffffff811660010164ffffffffff199091161790555b5060015433600160a060020a03811660009081526003602052604081208054349490940493840190556105299183915b8281101561056a57600480546001810180835582818380158290116107af578183600052602060002091820191016107af91905b808211156107e35760008155600101610515565b60008054600254604051600160a060020a0392909216929160643460ff90931692909202919091049082818181858883f19350505050151561056a57610002565b505050565b600054600160a060020a03908116339091161461058b57610002565b600155565b600054600160a060020a0316ff5b5033600160a060020a03166000908152600360205260409020546101ab565b5060055464ffffffffff166101ab565b506001546101ab565b5030600160a060020a0316316101ab565b6006546105f3426100b9565b60405180836000191681526020018280519060200190808383829060006004602084601f0104600f02600301f1509050019250505060405180910390206001900460046000508054905060066000505461064c426100b9565b60405180836000191681526020018280519060200190808383829060006004602084601f0104600f02600301f1509050019250505060405180910390206001900406426006600050546006600050546106a4426100b9565b60405180836000191681526020018280519060200190808383829060006004602084601f0104600f02600301f150905001925050506040518091039020945094509450945094509091929394565b5060025460ff166101ab565b600054600160a060020a03908116339091161461071a57610002565b60078160ff16111561072b57610002565b6002805460ff19168217905550565b6000805473ffffffffffffffffffffffffffffffffffffffff19168217905550565b5060045433600160a060020a0316600090815260036020526040902054606402046101ab565b5b60008211156100fd57600a808304920660300160f860020a0261010090910417610783565b5092915050565b505050600092835250602090912001805473ffffffffffffffffffffffffffffffffffffffff1916831790556001016104e1565b509056",
    address: "0x6c4d6c87d354a26e0ed05f1b6190d9545f6bb844",
    generated_with: "2.0.9",
    contract_name: "Ethpot"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("Ethpot error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("Ethpot error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("Ethpot error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("Ethpot error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.Ethpot = Contract;
  }

})();
